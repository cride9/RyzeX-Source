#pragma once
#include "../../SDK/Menu/config.h"
#include "../Misc/enginepred.h"
#include "../../SDK/Entity.h"
#include "../../globals.h"

namespace exploits {

	inline int iHideShiftAmount = 0;

	inline int iShiftAmount = 0;
	inline int iRechargeAmount = 0;
	inline int iTicksToStore = 0;
	inline int iLastShiftTime = 0;

	inline int iDefensive = 0;

	inline bool bCharged = true;
	inline bool bIsCurrentlyCharging = false;
	inline bool bShouldTeleport = true;
	inline bool bForcePacket = false;

	inline bool bIsShiftingTicks = false;
	inline bool bShouldRecharge = false;
	inline bool bIsRecharging = false;
	inline bool bDoubleTapEnabled = false;
	inline bool bLastShift = false;
	inline bool IsCurrentlyShooting = false;

	inline bool bCanCharge = false;

	inline CMoveData m_moveData = { };
		
	bool CanDoubleTap( CBaseEntity* pLocal );
	void OnCLMove( float flSamples, bool bFinalTick );
	void HandleDoubleTap( bool& bSendPacket, CUserCmd* pCmd );
	void HandleHideShots(bool& bSendPacket, CUserCmd* pCmd);

	void HandleBreakLagcomp(CUserCmd* pCmd);
	void TurnedOffShift(CUserCmd* pCmd);
}